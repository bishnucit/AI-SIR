
pip install pandas scikit-learn matplotlib seaborn


create a dataset

train the model using python code - create a file train_model.py to save the code.

import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import accuracy_score, confusion_matrix, classification_report
import seaborn as sns
import matplotlib.pyplot as plt
import joblib

# 1️⃣ Load dataset
data = pd.read_csv("students.csv")

# 2️⃣ Separate features (X) and target (y)
X = data.drop("pass", axis=1)
y = data["pass"]

# 3️⃣ Train-Test Split (80% train, 20% test)
X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42
)

# 4️⃣ Feature Scaling
scaler = StandardScaler()
X_train = scaler.fit_transform(X_train)
X_test = scaler.transform(X_test)

# 5️⃣ Create and Train Model
model = LogisticRegression()
model.fit(X_train, y_train)

# 6️⃣ Make Predictions
y_pred = model.predict(X_test)

# 7️⃣ Evaluate Model
accuracy = accuracy_score(y_test, y_pred)
print("Accuracy:", accuracy)

print("\nClassification Report:")
print(classification_report(y_test, y_pred))

# 8️⃣ Confusion Matrix
cm = confusion_matrix(y_test, y_pred)

sns.heatmap(cm, annot=True, fmt="d", cmap="Blues")
plt.xlabel("Predicted")
plt.ylabel("Actual")
plt.title("Confusion Matrix")
plt.show()

joblib.dump(model, "student_model.pkl")
joblib.dump(scaler, "scaler.pkl")
print("Model saved successfully!")


This shows a plot and after closing the plot it generates 2 pkl file saving the model.

make sure flask is installed 

then create a new app folder and add the pkl files in that folder 

create an app.py and then create templates/index.html

app.py code -

from flask import Flask, render_template, request
import joblib
import numpy as np

app = Flask(__name__)

# Load trained model and scaler
model = joblib.load("student_model.pkl")
scaler = joblib.load("scaler.pkl")

@app.route("/")
def home():
    return render_template("index.html")

@app.route("/predict", methods=["POST"])
def predict():
    try:
        # Get form values
        study_hours = float(request.form["study_hours"])
        attendance = float(request.form["attendance"])
        sleep = float(request.form["sleep"])
        previous_score = float(request.form["previous_score"])
        internet_usage = float(request.form["internet_usage"])

        # Create input array
        features = np.array([[study_hours, attendance, sleep, previous_score, internet_usage]])

        # Scale
        features_scaled = scaler.transform(features)

        # Predict
        prediction = model.predict(features_scaled)

        result = "Pass ✅" if prediction[0] == 1 else "Fail ❌"

        return render_template("index.html", prediction_text=result)

    except Exception as e:
        return str(e)

if __name__ == "__main__":
    app.run(debug=True)




index.html code

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Pass Predictor</title>
</head>
<body>
    <h2>Student Performance Predictor</h2>

    <form action="/predict" method="post">
        <label for="study_hours">Study Hours:</label>
        <input type="number" step="any" id="study_hours" name="study_hours" placeholder="Enter study hours"><br><br>

        <label for="attendance">Attendance (%):</label>
        <input type="number" step="any" id="attendance" name="attendance" placeholder="Enter attendance percentage"><br><br>

        <label for="sleep">Sleep Hours:</label>
        <input type="number" step="any" id="sleep" name="sleep" placeholder="Enter sleep hours"><br><br>

        <label for="previous_score">Previous Score:</label>
        <input type="number" step="any" id="previous_score" name="previous_score" placeholder="Enter previous score"><br><br>

        <label for="internet_usage">Internet Usage (hrs/day):</label>
        <input type="number" step="any" id="internet_usage" name="internet_usage" placeholder="Enter internet usage"><br><br>

        <button type="submit">Predict</button>
    </form>

    <h3>{{ prediction_text }}</h3>
</body>
</html>



Now run from webapp folder - python app.py

this will run the index.html on local host - visit the url and enter data and notice the result pass/fail in browser.



we can also create api to access the result - to do this create a new folder and copy the pkl files then create a app.py file in that folder


from flask import Flask, request, jsonify
import joblib
import numpy as np

app = Flask(__name__)

# Load model and scaler
model = joblib.load("student_model.pkl")
scaler = joblib.load("scaler.pkl")

@app.route("/predict", methods=["POST"])
def predict():
    try:
        # Receive JSON data
        data = request.get_json()

        # Extract features
        study_hours = float(data["study_hours"])
        attendance = float(data["attendance"])
        sleep = float(data["sleep"])
        previous_score = float(data["previous_score"])
        internet_usage = float(data["internet_usage"])

        # Convert to array and scale
        features = np.array([[study_hours, attendance, sleep, previous_score, internet_usage]])
        features_scaled = scaler.transform(features)

        # Predict
        prediction = model.predict(features_scaled)
        probability = model.predict_proba(features_scaled)[0][1]  # probability of Pass

        result = {
            "prediction": "Pass" if prediction[0] == 1 else "Fail",
            "probability": float(probability)
        }

        return jsonify(result)

    except Exception as e:
        return jsonify({"error": str(e)})

if __name__ == "__main__":
    app.run(debug=True)

then run this file in a prompt using python app.py this will run on localhost and if that localhost receives a request it will respond with the result -


we can check this in two ways - 

1 - via curl - 

curl -X POST http://127.0.0.1:5000/predict \
-H "Content-Type: application/json" \
-d '{"study_hours": 10, "attendance": 85, "sleep": 7, "previous_score": 80, "internet_usage": 3}'

this will return result as Pass and probablity of 0.99 


2 - via python requests module

create another file call apicall.py and use below code -

import requests

url = "http://127.0.0.1:5000/predict"
data = {
    "study_hours": 10,
    "attendance": 85,
    "sleep": 7,
    "previous_score": 80,
    "internet_usage": 3
}

response = requests.post(url, json=data)
print(response.json())


then run in a new prompt - python apicall.py
this will return the result Pass with probability of 0.99 


Here we learned below -

1 - create a dataset
2 - use the dataset to train a model
3 - export the model to pkl files
4 - use the pkl files to create an web app and then access it as html and get result in html on enetering valid data.
5 - use the pkl files to create api calls where calling with valid data returns proper result.



